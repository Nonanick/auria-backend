{"version":3,"file":"ApiAccessPolicyEnforcer.js","sourceRoot":"","sources":["ApiAccessPolicyEnforcer.ts"],"names":[],"mappings":"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"}